<div id="task-info-container">
  <div id="questionnaire-progress" [@moveInProgress]="expanded">
    @if (!expanded) {
      <round-progress
        [current]="current"
        [max]="max"
        [radius]="radius"
        [color]="'#7fcdbb'"
        [background]="'rgba(255,255,204,0.12)'"
        [stroke]="stroke"
        [clockwise]="true"
      ></round-progress>
      <div id="questionnaire-counter">{{ current }}</div>
    }
  </div>
  <div class="right-info">
    <div id="questionnaire-metrics" [@alignCenterRightMetrics]="expanded">
      <img class="icon-padding icon-sm" src="assets/imgs/nTasks.png" />
      {{ task.nQuestions }}
      <span class="units">x</span>
      <br />
      <img class="icon-padding icon-sm" src="assets/imgs/stopwatch.png" />
      {{ task.estimatedCompletionTime }}
      <span class="units">min</span>
    </div>
    <div
      id="questionnaire-time"
      [class.status-collapsed]="!expanded"
      [@scaleStatus]="expanded"
      #status
    >
      <span class="text-md">
        {{ nextTaskStatus }}
      </span>
    </div>
    <div id="questionnaire-time">
      @if (!isNow && task.showInCalendar) {
      <div class="text-md">
        <div class="time-container" [@moveHour]="expanded">
          {{ getHour() }}
        </div>
        <div class="time-container" [@scaleMinutes]="expanded">
          <span class="time-colon" [@fade]="expanded"> : </span>
          <span>{{ getMinutes() }}</span>
        </div>
        <div [@rotateMeridiem]="expanded" class="time-container meridiem">
          {{ getMeridiem() }}
        </div>
      </div>
      }
    </div>
  </div>

  @if (task.warning) {
    <div
      class="extra-info"
      [@alignCenterRightExtraInfo]="expanded"
    >
      <img class="extra-info-icon" src="assets/imgs/warning.png" />
      {{ task.warning }}
    </div>
  }
</div>
